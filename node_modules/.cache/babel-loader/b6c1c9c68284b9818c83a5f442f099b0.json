{"ast":null,"code":"var _jsxFileName = \"D:\\\\Soft\\\\DIPLOM PROJECT\\\\GitProject\\\\bac\\\\src\\\\pages\\\\Drinks.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useLocalStorage } from \"../utils/useLocalState\";\nimport { DrinkCards } from \"../components/DrinkCards\";\nimport { NewDrink } from \"../components/NewDrink\";\nimport { graphDataCalculator } from \"../utils/graphDataCalculator\";\nimport { drinkSorter } from \"../utils/drinkSorter\";\nimport { userParameters } from \"../utils/userParameters\";\nimport { InfoModal } from \"../components/InfoModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Drinks = _ref => {\n  _s();\n\n  let {\n    match,\n    history\n  } = _ref;\n  const [drinks, setDrinks] = useLocalStorage(\"drinks\", []);\n  const [duplicateDrink, setDuplicateDrink] = useState(null);\n  const [addingNewDrink, setAddingNewDrink] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const {\n    widmarkFactor,\n    absorptionRate,\n    eliminationRate,\n    weight\n  } = userParameters(match.params.id);\n\n  const calculateBAC = () => {\n    const {\n      graphBacData,\n      currentBac,\n      curBacIdx\n    } = graphDataCalculator({\n      widmarkFactor,\n      absorptionRate,\n      eliminationRate,\n      weight,\n      drinks\n    });\n    history.push({\n      pathname: `/user/bacinfo/${match.params.id}`,\n      state: {\n        currentBac,\n        graphBacData,\n        curBacIdx\n      }\n    });\n  };\n\n  const addDuplicateDrink = drink => {\n    setDuplicateDrink({\n      type: drink.type,\n      volume: drink.volume,\n      unit: drink.unit,\n      abv: drink.abv\n    });\n    setAddingNewDrink(true);\n  };\n\n  const closeForm = (type, volume, unit, abv, timePassed) => {\n    setAddingNewDrink(false);\n    setDuplicateDrink(null);\n    const temp = [{\n      type,\n      volume,\n      unit,\n      abv,\n      timePassed\n    }, ...drinks];\n    const sortedDrinks = drinkSorter(temp, true);\n    setDrinks(sortedDrinks);\n  };\n\n  const cancelAdding = () => {\n    setAddingNewDrink(false);\n    setDuplicateDrink(null);\n  };\n\n  const deleteDrink = i => {\n    const temp = [...drinks];\n    temp.splice(i, 1);\n    setDrinks(temp);\n  };\n\n  const goHome = () => {\n    history.push(\"/\");\n  };\n\n  const handleOpenModal = () => {\n    setIsModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container drinks__container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Logo drinks__logo\",\n      onClick: goHome,\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"Alkoholov\\xFD analyz\\xE1tor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      onClick: () => history.push(\"/user\"),\n      className: \"drinks__edit-user-btn\",\n      children: \"Zmena pou\\u017E\\xEDvate\\u013Ea\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"drinks__main-btns\",\n      style: {\n        display: \"grid\",\n        justifyItems: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setAddingNewDrink(true),\n          className: \"drinks__main-btn drinks__add-btn\",\n          children: \"Pridanie n\\xE1poja\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleOpenModal,\n            children: \"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u043C\\u043E\\u0434\\u0430\\u043B\\u044C\\u043D\\u043E\\u0435 \\u043E\\u043A\\u043D\\u043E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InfoModal, {\n            isOpen: isModalOpen,\n            closeModal: handleCloseModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: drinks.length === 0 ? true : false,\n          onClick: () => {\n            calculateBAC();\n          },\n          className: \"drinks__main-btn drinks__submit-btn\",\n          children: \"Pokra\\u010Dova\\u0165\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"drinks__drink-card-container\",\n      children: [/*#__PURE__*/_jsxDEV(NewDrink, {\n        closeForm: closeForm,\n        duplicateDrinkData: duplicateDrink,\n        addingNewDrink: addingNewDrink,\n        cancelAdding: cancelAdding\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DrinkCards, {\n        drinks: drinks,\n        deleteDrink: deleteDrink,\n        addDuplicateDrink: addDuplicateDrink\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Drinks, \"laWtM5clhPMhwaVxbkxeaMuSDkM=\", false, function () {\n  return [useLocalStorage];\n});\n\n_c = Drinks;\n\nvar _c;\n\n$RefreshReg$(_c, \"Drinks\");","map":{"version":3,"names":["React","useState","useLocalStorage","DrinkCards","NewDrink","graphDataCalculator","drinkSorter","userParameters","InfoModal","Drinks","match","history","drinks","setDrinks","duplicateDrink","setDuplicateDrink","addingNewDrink","setAddingNewDrink","isModalOpen","setIsModalOpen","widmarkFactor","absorptionRate","eliminationRate","weight","params","id","calculateBAC","graphBacData","currentBac","curBacIdx","push","pathname","state","addDuplicateDrink","drink","type","volume","unit","abv","closeForm","timePassed","temp","sortedDrinks","cancelAdding","deleteDrink","i","splice","goHome","handleOpenModal","handleCloseModal","textAlign","display","justifyItems","length"],"sources":["D:/Soft/DIPLOM PROJECT/GitProject/bac/src/pages/Drinks.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { useLocalStorage } from \"../utils/useLocalState\";\nimport { drinkType, duplicateDrinkType } from \"../types\";\nimport { DrinkCards } from \"../components/DrinkCards\";\nimport { NewDrink } from \"../components/NewDrink\";\nimport { graphDataCalculator } from \"../utils/graphDataCalculator\";\nimport { drinkSorter } from \"../utils/drinkSorter\";\nimport { userParameters } from \"../utils/userParameters\";\nimport { InfoModal } from \"../components/InfoModal\";\n\ninterface DrinksProps extends RouteComponentProps<{ id: string }> {}\n\nexport const Drinks: React.FC<DrinksProps> = ({ match, history }) => {\n  const [drinks, setDrinks] = useLocalStorage(\"drinks\", []);\n  const [duplicateDrink, setDuplicateDrink] =\n    useState<duplicateDrinkType | null>(null);\n  const [addingNewDrink, setAddingNewDrink] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const { widmarkFactor, absorptionRate, eliminationRate, weight } =\n    userParameters(match.params.id);\n\n  const calculateBAC = () => {\n    const { graphBacData, currentBac, curBacIdx } = graphDataCalculator({\n      widmarkFactor,\n      absorptionRate,\n      eliminationRate,\n      weight,\n      drinks,\n    });\n    history.push({\n      pathname: `/user/bacinfo/${match.params.id}`,\n      state: { currentBac, graphBacData, curBacIdx },\n    });\n  };\n\n  const addDuplicateDrink = (drink: drinkType) => {\n    setDuplicateDrink({\n      type: drink.type,\n      volume: drink.volume,\n      unit: drink.unit,\n      abv: drink.abv,\n    });\n    setAddingNewDrink(true);\n  };\n\n  const closeForm = (\n    type: string,\n    volume: string,\n    unit: string,\n    abv: string,\n    timePassed: string\n  ) => {\n    setAddingNewDrink(false);\n    setDuplicateDrink(null);\n    const temp = [{ type, volume, unit, abv, timePassed }, ...drinks];\n    const sortedDrinks = drinkSorter(temp, true);\n    setDrinks(sortedDrinks);\n  };\n\n  const cancelAdding = () => {\n    setAddingNewDrink(false);\n    setDuplicateDrink(null);\n  };\n\n  const deleteDrink = (i: number) => {\n    const temp = [...drinks];\n    temp.splice(i, 1);\n    setDrinks(temp);\n  };\n\n  const goHome = () => {\n    history.push(\"/\");\n  };\n\n  const handleOpenModal = () => {\n    setIsModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n  };\n\n  return (\n    <div className=\"container drinks__container\">\n      <div className=\"Logo drinks__logo\" onClick={goHome}>\n        <h1 style={{ textAlign: \"center\" }}>Alkoholový analyzátor</h1>\n      </div>\n      <h2\n        onClick={() => history.push(\"/user\")}\n        className=\"drinks__edit-user-btn\"\n      >\n        Zmena používateľa\n      </h2>\n      <div\n        className=\"drinks__main-btns\"\n        style={{ display: \"grid\", justifyItems: \"center\" }}\n      >\n        {/* <p\n          style={{\n            fontFamily: \"b612, sans-serif\",\n            width: 500,\n            textAlign: \"center\",\n          }}\n        >\n          Pri výbere položky \"Pridanie nápoja\" uveďte druh nápoja, ktorý ste\n          vypili, objem, silu v % a ako dávno ste ho pili.\n        </p> */}\n        {/* <p\n          style={{\n            fontFamily: \"b612, sans-serif\",\n            width: 500,\n            textAlign: \"center\",\n          }}\n        >\n          Ak vyberiete \"Uložiť \", vybrané nápoje sa uložia a budete presmerovaní\n          na stránku výpočtu hladiny alkoholu v krvi.\n        </p> */}\n        <div style={{ display: \"flex\" }}>\n          <button\n            onClick={() => setAddingNewDrink(true)}\n            className=\"drinks__main-btn drinks__add-btn\"\n          >\n            Pridanie nápoja\n          </button>\n          <div>\n            <button onClick={handleOpenModal}>Открыть модальное окно</button>\n            <InfoModal isOpen={isModalOpen} closeModal={handleCloseModal} />\n          </div>\n          <button\n            disabled={drinks.length === 0 ? true : false}\n            onClick={() => {\n              calculateBAC();\n            }}\n            className=\"drinks__main-btn drinks__submit-btn\"\n          >\n            Pokračovať\n          </button>\n        </div>\n      </div>\n\n      <div className=\"drinks__drink-card-container\">\n        <NewDrink\n          closeForm={closeForm}\n          duplicateDrinkData={duplicateDrink}\n          addingNewDrink={addingNewDrink}\n          cancelAdding={cancelAdding}\n        />\n        <DrinkCards\n          drinks={drinks}\n          deleteDrink={deleteDrink}\n          addDuplicateDrink={addDuplicateDrink}\n        />{\" \"}\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}