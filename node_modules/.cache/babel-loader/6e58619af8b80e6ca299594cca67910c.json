{"ast":null,"code":"import _toConsumableArray from\"D:/Soft/DIPLOM PROJECT/IngProject/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/Soft/DIPLOM PROJECT/IngProject/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useLocalStorage}from\"../utils/useLocalState\";import{DrinkCards}from\"../components/DrinkCards\";import{NewDrink}from\"../components/NewDrink\";import{graphDataCalculator}from\"../utils/graphDataCalculator\";import{drinkSorter}from\"../utils/drinkSorter\";import{userParameters}from\"../utils/userParameters\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Drinks=function Drinks(_ref){var match=_ref.match,history=_ref.history;var _useLocalStorage=useLocalStorage(\"drinks\",[]),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),drinks=_useLocalStorage2[0],setDrinks=_useLocalStorage2[1];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),duplicateDrink=_useState2[0],setDuplicateDrink=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),addingNewDrink=_useState4[0],setAddingNewDrink=_useState4[1];var _userParameters=userParameters(match.params.id),widmarkFactor=_userParameters.widmarkFactor,absorptionRate=_userParameters.absorptionRate,eliminationRate=_userParameters.eliminationRate,weight=_userParameters.weight;var calculateBAC=function calculateBAC(){var _graphDataCalculator=graphDataCalculator({widmarkFactor:widmarkFactor,absorptionRate:absorptionRate,eliminationRate:eliminationRate,weight:weight,drinks:drinks}),graphBacData=_graphDataCalculator.graphBacData,currentBac=_graphDataCalculator.currentBac,curBacIdx=_graphDataCalculator.curBacIdx;history.push({pathname:\"/user/bacinfo/\".concat(match.params.id),state:{currentBac:currentBac,graphBacData:graphBacData,curBacIdx:curBacIdx}});};var addDuplicateDrink=function addDuplicateDrink(drink){setDuplicateDrink({type:drink.type,volume:drink.volume,unit:drink.unit,abv:drink.abv});setAddingNewDrink(true);};var closeForm=function closeForm(type,volume,unit,abv,timePassed){setAddingNewDrink(false);setDuplicateDrink(null);var temp=[{type:type,volume:volume,unit:unit,abv:abv,timePassed:timePassed}].concat(_toConsumableArray(drinks));var sortedDrinks=drinkSorter(temp,true);setDrinks(sortedDrinks);};var cancelAdding=function cancelAdding(){setAddingNewDrink(false);setDuplicateDrink(null);};var deleteDrink=function deleteDrink(i){var temp=_toConsumableArray(drinks);temp.splice(i,1);setDrinks(temp);};var goHome=function goHome(){history.push(\"/\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"container drinks__container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Logo drinks__logo\",onClick:goHome,children:/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:'center'},children:\"Alkoholov\\xFD analyz\\xE1tor\"})}),/*#__PURE__*/_jsx(\"h2\",{onClick:function onClick(){return history.push(\"/user\");},className:\"drinks__edit-user-btn\",children:\"Zmena pou\\u017E\\xEDvate\\u013Ea\"}),/*#__PURE__*/_jsx(\"div\",{className:\"drinks__main-btns\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setAddingNewDrink(true);},className:\"drinks__main-btn drinks__add-btn\",children:\"Pridanie n\\xE1poja\"}),/*#__PURE__*/_jsx(\"button\",{disabled:drinks.length===0?true:false,onClick:function onClick(){calculateBAC();},className:\"drinks__main-btn drinks__submit-btn\",children:\"Vlo\\u017Ei\\u0165\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"drinks__drink-card-container\",children:[/*#__PURE__*/_jsx(NewDrink,{closeForm:closeForm,duplicateDrinkData:duplicateDrink,addingNewDrink:addingNewDrink,cancelAdding:cancelAdding}),/*#__PURE__*/_jsx(DrinkCards,{drinks:drinks,deleteDrink:deleteDrink,addDuplicateDrink:addDuplicateDrink}),\" \"]})]});};","map":{"version":3,"names":["React","useState","useLocalStorage","DrinkCards","NewDrink","graphDataCalculator","drinkSorter","userParameters","Drinks","match","history","drinks","setDrinks","duplicateDrink","setDuplicateDrink","addingNewDrink","setAddingNewDrink","params","id","widmarkFactor","absorptionRate","eliminationRate","weight","calculateBAC","graphBacData","currentBac","curBacIdx","push","pathname","state","addDuplicateDrink","drink","type","volume","unit","abv","closeForm","timePassed","temp","sortedDrinks","cancelAdding","deleteDrink","i","splice","goHome","textAlign","display","length"],"sources":["D:/Soft/DIPLOM PROJECT/IngProject/src/pages/Drinks.tsx"],"sourcesContent":["import React, { useState } from \"react\"\nimport { RouteComponentProps } from \"react-router\"\nimport { useLocalStorage } from \"../utils/useLocalState\"\nimport { drinkType, duplicateDrinkType } from \"../types\"\nimport { DrinkCards } from \"../components/DrinkCards\"\nimport { NewDrink } from \"../components/NewDrink\"\nimport { graphDataCalculator } from \"../utils/graphDataCalculator\"\nimport { drinkSorter } from \"../utils/drinkSorter\"\nimport { userParameters } from \"../utils/userParameters\"\n\ninterface DrinksProps extends RouteComponentProps<{ id: string }> {}\n\nexport const Drinks: React.FC<DrinksProps> = ({ match, history }) => {\n  const [drinks, setDrinks] = useLocalStorage(\"drinks\", [])\n  const [duplicateDrink, setDuplicateDrink] =\n    useState<duplicateDrinkType | null>(null)\n  const [addingNewDrink, setAddingNewDrink] = useState(false)\n\n  const { widmarkFactor, absorptionRate, eliminationRate, weight } =\n    userParameters(match.params.id)\n\n  const calculateBAC = () => {\n    const { graphBacData, currentBac, curBacIdx } = graphDataCalculator({\n      widmarkFactor,\n      absorptionRate,\n      eliminationRate,\n      weight,\n      drinks,\n    })\n    history.push({\n      pathname: `/user/bacinfo/${match.params.id}`,\n      state: { currentBac, graphBacData, curBacIdx },\n    })\n  }\n\n  const addDuplicateDrink = (drink: drinkType) => {\n    setDuplicateDrink({\n      type: drink.type,\n      volume: drink.volume,\n      unit: drink.unit,\n      abv: drink.abv,\n    })\n    setAddingNewDrink(true)\n  }\n\n  const closeForm = (\n    type: string,\n    volume: string,\n    unit: string,\n    abv: string,\n    timePassed: string\n  ) => {\n    setAddingNewDrink(false)\n    setDuplicateDrink(null)\n    const temp = [{ type, volume, unit, abv, timePassed }, ...drinks]\n    const sortedDrinks = drinkSorter(temp, true)\n    setDrinks(sortedDrinks)\n  }\n\n  const cancelAdding = () => {\n    setAddingNewDrink(false)\n    setDuplicateDrink(null)\n  }\n\n  const deleteDrink = (i: number) => {\n    const temp = [...drinks]\n    temp.splice(i, 1)\n    setDrinks(temp)\n  }\n\n  const goHome = () => {\n    history.push(\"/\")\n  }\n\n  return (\n    <div className=\"container drinks__container\">\n      <div className=\"Logo drinks__logo\" onClick={goHome}>\n      <h1 style={{textAlign:'center'}}>Alkoholový analyzátor</h1>\n      </div>\n      <h2\n        onClick={() => history.push(\"/user\")}\n        className=\"drinks__edit-user-btn\"\n      >\n        Zmena používateľa\n      </h2>\n      <div className=\"drinks__main-btns\">\n        <div style={{display:'flex'}}>\n          <button\n            onClick={() => setAddingNewDrink(true)}\n            className=\"drinks__main-btn drinks__add-btn\"\n          >\n            Pridanie nápoja\n          </button>\n          <button\n            disabled={drinks.length === 0 ? true : false}\n            onClick={() => {\n              calculateBAC()\n            }}\n            className=\"drinks__main-btn drinks__submit-btn\"\n          >\n            Vložiť\n          </button>\n        </div>\n      </div>\n      <div className=\"drinks__drink-card-container\">\n        <NewDrink\n          closeForm={closeForm}\n          duplicateDrinkData={duplicateDrink}\n          addingNewDrink={addingNewDrink}\n          cancelAdding={cancelAdding}\n        />\n        <DrinkCards\n          drinks={drinks}\n          deleteDrink={deleteDrink}\n          addDuplicateDrink={addDuplicateDrink}\n        />{\" \"}\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}