{"ast":null,"code":"var _jsxFileName = \"D:\\\\Soft\\\\DIPLOM PROJECT\\\\IngProject\\\\src\\\\pages\\\\Drinks.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useLocalStorage } from \"../utils/useLocalState\";\nimport { DrinkCards } from \"../components/DrinkCards\";\nimport { NewDrink } from \"../components/NewDrink\";\nimport { graphDataCalculator } from \"../utils/graphDataCalculator\";\nimport { drinkSorter } from \"../utils/drinkSorter\";\nimport { userParameters } from \"../utils/userParameters\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Drinks = _ref => {\n  _s();\n\n  let {\n    match,\n    history\n  } = _ref;\n  const [drinks, setDrinks] = useLocalStorage(\"drinks\", []);\n  const [duplicateDrink, setDuplicateDrink] = useState(null);\n  const [addingNewDrink, setAddingNewDrink] = useState(false);\n  const {\n    widmarkFactor,\n    absorptionRate,\n    eliminationRate,\n    weight\n  } = userParameters(match.params.id);\n\n  const Modal = _ref2 => {\n    let {\n      onClose\n    } = _ref2;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Modal content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this);\n  };\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const handleOpenModal = () => {\n    setIsModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n  };\n\n  const calculateBAC = () => {\n    const {\n      graphBacData,\n      currentBac,\n      curBacIdx\n    } = graphDataCalculator({\n      widmarkFactor,\n      absorptionRate,\n      eliminationRate,\n      weight,\n      drinks\n    });\n    history.push({\n      pathname: `/user/bacinfo/${match.params.id}`,\n      state: {\n        currentBac,\n        graphBacData,\n        curBacIdx\n      }\n    });\n  };\n\n  const addDuplicateDrink = drink => {\n    setDuplicateDrink({\n      type: drink.type,\n      volume: drink.volume,\n      unit: drink.unit,\n      abv: drink.abv\n    });\n    setAddingNewDrink(true);\n  };\n\n  const closeForm = (type, volume, unit, abv, timePassed) => {\n    setAddingNewDrink(false);\n    setDuplicateDrink(null);\n    const temp = [{\n      type,\n      volume,\n      unit,\n      abv,\n      timePassed\n    }, ...drinks];\n    const sortedDrinks = drinkSorter(temp, true);\n    setDrinks(sortedDrinks);\n  };\n\n  const cancelAdding = () => {\n    setAddingNewDrink(false);\n    setDuplicateDrink(null);\n  };\n\n  const deleteDrink = i => {\n    const temp = [...drinks];\n    temp.splice(i, 1);\n    setDrinks(temp);\n  };\n\n  const goHome = () => {\n    history.push(\"/\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container drinks__container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Logo drinks__logo\",\n      onClick: goHome,\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"Alkoholov\\xFD analyz\\xE1tor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      onClick: () => history.push(\"/user\"),\n      className: \"drinks__edit-user-btn\",\n      children: \"Zmena pou\\u017E\\xEDvate\\u013Ea\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"drinks__main-btns\",\n      style: {\n        display: \"grid\",\n        justifyItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontFamily: \"b612, sans-serif\",\n          width: 500,\n          textAlign: \"center\"\n        },\n        children: \"Pri v\\xFDbere polo\\u017Eky \\\"Pridanie n\\xE1poja\\\" uve\\u010Fte druh n\\xE1poja, ktor\\xFD ste vypili, objem, silu v % a ako d\\xE1vno ste ho pili.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontFamily: \"b612, sans-serif\",\n          width: 500,\n          textAlign: \"center\"\n        },\n        children: \"Ak vyberiete \\\"Vlo\\u017Ei\\u0165\\\", vybran\\xE9 n\\xE1poje sa ulo\\u017Eia a budete presmerovan\\xED na str\\xE1nku v\\xFDpo\\u010Dtu hladiny alkoholu v krvi.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleOpenModal,\n        children: \"Open Modal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), isModalOpen && /*#__PURE__*/_jsxDEV(Modal, {\n        onClose: handleCloseModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setAddingNewDrink(true),\n          className: \"drinks__main-btn drinks__add-btn\",\n          children: \"Pridanie n\\xE1poja\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: drinks.length === 0 ? true : false,\n          onClick: () => {\n            calculateBAC();\n          },\n          className: \"drinks__main-btn drinks__submit-btn\",\n          children: \"Vlo\\u017Ei\\u0165\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"drinks__drink-card-container\",\n      children: [/*#__PURE__*/_jsxDEV(NewDrink, {\n        closeForm: closeForm,\n        duplicateDrinkData: duplicateDrink,\n        addingNewDrink: addingNewDrink,\n        cancelAdding: cancelAdding\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DrinkCards, {\n        drinks: drinks,\n        deleteDrink: deleteDrink,\n        addDuplicateDrink: addDuplicateDrink\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Drinks, \"laWtM5clhPMhwaVxbkxeaMuSDkM=\", false, function () {\n  return [useLocalStorage];\n});\n\n_c = Drinks;\n\nvar _c;\n\n$RefreshReg$(_c, \"Drinks\");","map":{"version":3,"names":["React","useState","useLocalStorage","DrinkCards","NewDrink","graphDataCalculator","drinkSorter","userParameters","Drinks","match","history","drinks","setDrinks","duplicateDrink","setDuplicateDrink","addingNewDrink","setAddingNewDrink","widmarkFactor","absorptionRate","eliminationRate","weight","params","id","Modal","onClose","isModalOpen","setIsModalOpen","handleOpenModal","handleCloseModal","calculateBAC","graphBacData","currentBac","curBacIdx","push","pathname","state","addDuplicateDrink","drink","type","volume","unit","abv","closeForm","timePassed","temp","sortedDrinks","cancelAdding","deleteDrink","i","splice","goHome","textAlign","display","justifyItems","fontFamily","width","length"],"sources":["D:/Soft/DIPLOM PROJECT/IngProject/src/pages/Drinks.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { useLocalStorage } from \"../utils/useLocalState\";\nimport { drinkType, duplicateDrinkType } from \"../types\";\nimport { DrinkCards } from \"../components/DrinkCards\";\nimport { NewDrink } from \"../components/NewDrink\";\nimport { graphDataCalculator } from \"../utils/graphDataCalculator\";\nimport { drinkSorter } from \"../utils/drinkSorter\";\nimport { userParameters } from \"../utils/userParameters\";\n\ninterface ModalProps {\n  onClose: () => void;\n}\n\ninterface DrinksProps extends RouteComponentProps<{ id: string }> {}\n\nexport const Drinks: React.FC<DrinksProps> = ({ match, history }) => {\n  const [drinks, setDrinks] = useLocalStorage(\"drinks\", []);\n  const [duplicateDrink, setDuplicateDrink] =\n    useState<duplicateDrinkType | null>(null);\n  const [addingNewDrink, setAddingNewDrink] = useState(false);\n\n  const { widmarkFactor, absorptionRate, eliminationRate, weight } =\n    userParameters(match.params.id);\n\n  const Modal: React.FC<ModalProps> = ({ onClose }) => {\n    return (\n      <div>\n        <h1>Modal content</h1>\n        <button onClick={onClose}>Close</button>\n      </div>\n    );\n  };\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const handleOpenModal = () => {\n    setIsModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n  };\n\n  const calculateBAC = () => {\n    const { graphBacData, currentBac, curBacIdx } = graphDataCalculator({\n      widmarkFactor,\n      absorptionRate,\n      eliminationRate,\n      weight,\n      drinks,\n    });\n    history.push({\n      pathname: `/user/bacinfo/${match.params.id}`,\n      state: { currentBac, graphBacData, curBacIdx },\n    });\n  };\n\n  const addDuplicateDrink = (drink: drinkType) => {\n    setDuplicateDrink({\n      type: drink.type,\n      volume: drink.volume,\n      unit: drink.unit,\n      abv: drink.abv,\n    });\n    setAddingNewDrink(true);\n  };\n\n  const closeForm = (\n    type: string,\n    volume: string,\n    unit: string,\n    abv: string,\n    timePassed: string\n  ) => {\n    setAddingNewDrink(false);\n    setDuplicateDrink(null);\n    const temp = [{ type, volume, unit, abv, timePassed }, ...drinks];\n    const sortedDrinks = drinkSorter(temp, true);\n    setDrinks(sortedDrinks);\n  };\n\n  const cancelAdding = () => {\n    setAddingNewDrink(false);\n    setDuplicateDrink(null);\n  };\n\n  const deleteDrink = (i: number) => {\n    const temp = [...drinks];\n    temp.splice(i, 1);\n    setDrinks(temp);\n  };\n\n  const goHome = () => {\n    history.push(\"/\");\n  };\n\n  return (\n    <div className=\"container drinks__container\">\n      <div className=\"Logo drinks__logo\" onClick={goHome}>\n        <h1 style={{ textAlign: \"center\" }}>Alkoholový analyzátor</h1>\n      </div>\n      <h2\n        onClick={() => history.push(\"/user\")}\n        className=\"drinks__edit-user-btn\"\n      >\n        Zmena používateľa\n      </h2>\n      <div\n        className=\"drinks__main-btns\"\n        style={{ display: \"grid\", justifyItems: \"center\" }}\n      >\n        <p\n          style={{\n            fontFamily: \"b612, sans-serif\",\n            width: 500,\n            textAlign: \"center\",\n          }}\n        >\n          Pri výbere položky \"Pridanie nápoja\" uveďte druh nápoja, ktorý ste\n          vypili, objem, silu v % a ako dávno ste ho pili.\n        </p>\n        <p\n          style={{\n            fontFamily: \"b612, sans-serif\",\n            width: 500,\n            textAlign: \"center\",\n          }}\n        >\n          Ak vyberiete \"Vložiť\", vybrané nápoje sa uložia a budete presmerovaní\n          na stránku výpočtu hladiny alkoholu v krvi.\n        </p>\n\n        <button onClick={handleOpenModal}>Open Modal</button>\n        {isModalOpen && <Modal onClose={handleCloseModal} />}\n\n        <div style={{ display: \"flex\" }}>\n          <button\n            onClick={() => setAddingNewDrink(true)}\n            className=\"drinks__main-btn drinks__add-btn\"\n          >\n            Pridanie nápoja\n          </button>\n          <button\n            disabled={drinks.length === 0 ? true : false}\n            onClick={() => {\n              calculateBAC();\n            }}\n            className=\"drinks__main-btn drinks__submit-btn\"\n          >\n            Vložiť\n          </button>\n        </div>\n      </div>\n\n      <div className=\"drinks__drink-card-container\">\n        <NewDrink\n          closeForm={closeForm}\n          duplicateDrinkData={duplicateDrink}\n          addingNewDrink={addingNewDrink}\n          cancelAdding={cancelAdding}\n        />\n        <DrinkCards\n          drinks={drinks}\n          deleteDrink={deleteDrink}\n          addDuplicateDrink={addDuplicateDrink}\n        />{\" \"}\n      </div>\n    </div>\n  );\n};\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,SAASC,eAAT,QAAgC,wBAAhC;AAEA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,QAAT,QAAyB,wBAAzB;AACA,SAASC,mBAAT,QAAoC,8BAApC;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,SAASC,cAAT,QAA+B,yBAA/B;;AAQA,OAAO,MAAMC,MAA6B,GAAG,QAAwB;EAAA;;EAAA,IAAvB;IAAEC,KAAF;IAASC;EAAT,CAAuB;EACnE,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBV,eAAe,CAAC,QAAD,EAAW,EAAX,CAA3C;EACA,MAAM,CAACW,cAAD,EAAiBC,iBAAjB,IACJb,QAAQ,CAA4B,IAA5B,CADV;EAEA,MAAM,CAACc,cAAD,EAAiBC,iBAAjB,IAAsCf,QAAQ,CAAC,KAAD,CAApD;EAEA,MAAM;IAAEgB,aAAF;IAAiBC,cAAjB;IAAiCC,eAAjC;IAAkDC;EAAlD,IACJb,cAAc,CAACE,KAAK,CAACY,MAAN,CAAaC,EAAd,CADhB;;EAGA,MAAMC,KAA2B,GAAG,SAAiB;IAAA,IAAhB;MAAEC;IAAF,CAAgB;IACnD,oBACE;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAQ,OAAO,EAAEA,OAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAMD,CAPD;;EASA,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCzB,QAAQ,CAAC,KAAD,CAA9C;;EAEA,MAAM0B,eAAe,GAAG,MAAM;IAC5BD,cAAc,CAAC,IAAD,CAAd;EACD,CAFD;;EAIA,MAAME,gBAAgB,GAAG,MAAM;IAC7BF,cAAc,CAAC,KAAD,CAAd;EACD,CAFD;;EAIA,MAAMG,YAAY,GAAG,MAAM;IACzB,MAAM;MAAEC,YAAF;MAAgBC,UAAhB;MAA4BC;IAA5B,IAA0C3B,mBAAmB,CAAC;MAClEY,aADkE;MAElEC,cAFkE;MAGlEC,eAHkE;MAIlEC,MAJkE;MAKlET;IALkE,CAAD,CAAnE;IAOAD,OAAO,CAACuB,IAAR,CAAa;MACXC,QAAQ,EAAG,iBAAgBzB,KAAK,CAACY,MAAN,CAAaC,EAAG,EADhC;MAEXa,KAAK,EAAE;QAAEJ,UAAF;QAAcD,YAAd;QAA4BE;MAA5B;IAFI,CAAb;EAID,CAZD;;EAcA,MAAMI,iBAAiB,GAAIC,KAAD,IAAsB;IAC9CvB,iBAAiB,CAAC;MAChBwB,IAAI,EAAED,KAAK,CAACC,IADI;MAEhBC,MAAM,EAAEF,KAAK,CAACE,MAFE;MAGhBC,IAAI,EAAEH,KAAK,CAACG,IAHI;MAIhBC,GAAG,EAAEJ,KAAK,CAACI;IAJK,CAAD,CAAjB;IAMAzB,iBAAiB,CAAC,IAAD,CAAjB;EACD,CARD;;EAUA,MAAM0B,SAAS,GAAG,CAChBJ,IADgB,EAEhBC,MAFgB,EAGhBC,IAHgB,EAIhBC,GAJgB,EAKhBE,UALgB,KAMb;IACH3B,iBAAiB,CAAC,KAAD,CAAjB;IACAF,iBAAiB,CAAC,IAAD,CAAjB;IACA,MAAM8B,IAAI,GAAG,CAAC;MAAEN,IAAF;MAAQC,MAAR;MAAgBC,IAAhB;MAAsBC,GAAtB;MAA2BE;IAA3B,CAAD,EAA0C,GAAGhC,MAA7C,CAAb;IACA,MAAMkC,YAAY,GAAGvC,WAAW,CAACsC,IAAD,EAAO,IAAP,CAAhC;IACAhC,SAAS,CAACiC,YAAD,CAAT;EACD,CAZD;;EAcA,MAAMC,YAAY,GAAG,MAAM;IACzB9B,iBAAiB,CAAC,KAAD,CAAjB;IACAF,iBAAiB,CAAC,IAAD,CAAjB;EACD,CAHD;;EAKA,MAAMiC,WAAW,GAAIC,CAAD,IAAe;IACjC,MAAMJ,IAAI,GAAG,CAAC,GAAGjC,MAAJ,CAAb;IACAiC,IAAI,CAACK,MAAL,CAAYD,CAAZ,EAAe,CAAf;IACApC,SAAS,CAACgC,IAAD,CAAT;EACD,CAJD;;EAMA,MAAMM,MAAM,GAAG,MAAM;IACnBxC,OAAO,CAACuB,IAAR,CAAa,GAAb;EACD,CAFD;;EAIA,oBACE;IAAK,SAAS,EAAC,6BAAf;IAAA,wBACE;MAAK,SAAS,EAAC,mBAAf;MAAmC,OAAO,EAAEiB,MAA5C;MAAA,uBACE;QAAI,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAb,CAAX;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF,eAIE;MACE,OAAO,EAAE,MAAMzC,OAAO,CAACuB,IAAR,CAAa,OAAb,CADjB;MAEE,SAAS,EAAC,uBAFZ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAJF,eAUE;MACE,SAAS,EAAC,mBADZ;MAEE,KAAK,EAAE;QAAEmB,OAAO,EAAE,MAAX;QAAmBC,YAAY,EAAE;MAAjC,CAFT;MAAA,wBAIE;QACE,KAAK,EAAE;UACLC,UAAU,EAAE,kBADP;UAELC,KAAK,EAAE,GAFF;UAGLJ,SAAS,EAAE;QAHN,CADT;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAJF,eAcE;QACE,KAAK,EAAE;UACLG,UAAU,EAAE,kBADP;UAELC,KAAK,EAAE,GAFF;UAGLJ,SAAS,EAAE;QAHN,CADT;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAdF,eAyBE;QAAQ,OAAO,EAAExB,eAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAzBF,EA0BGF,WAAW,iBAAI,QAAC,KAAD;QAAO,OAAO,EAAEG;MAAhB;QAAA;QAAA;QAAA;MAAA,QA1BlB,eA4BE;QAAK,KAAK,EAAE;UAAEwB,OAAO,EAAE;QAAX,CAAZ;QAAA,wBACE;UACE,OAAO,EAAE,MAAMpC,iBAAiB,CAAC,IAAD,CADlC;UAEE,SAAS,EAAC,kCAFZ;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAOE;UACE,QAAQ,EAAEL,MAAM,CAAC6C,MAAP,KAAkB,CAAlB,GAAsB,IAAtB,GAA6B,KADzC;UAEE,OAAO,EAAE,MAAM;YACb3B,YAAY;UACb,CAJH;UAKE,SAAS,EAAC,qCALZ;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAPF;MAAA;QAAA;QAAA;QAAA;MAAA,QA5BF;IAAA;MAAA;MAAA;MAAA;IAAA,QAVF,eAyDE;MAAK,SAAS,EAAC,8BAAf;MAAA,wBACE,QAAC,QAAD;QACE,SAAS,EAAEa,SADb;QAEE,kBAAkB,EAAE7B,cAFtB;QAGE,cAAc,EAAEE,cAHlB;QAIE,YAAY,EAAE+B;MAJhB;QAAA;QAAA;QAAA;MAAA,QADF,eAOE,QAAC,UAAD;QACE,MAAM,EAAEnC,MADV;QAEE,WAAW,EAAEoC,WAFf;QAGE,iBAAiB,EAAEX;MAHrB;QAAA;QAAA;QAAA;MAAA,QAPF,EAWK,GAXL;IAAA;MAAA;MAAA;MAAA;IAAA,QAzDF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAyED,CA1JM;;GAAM5B,M;UACiBN,e;;;KADjBM,M"},"metadata":{},"sourceType":"module"}