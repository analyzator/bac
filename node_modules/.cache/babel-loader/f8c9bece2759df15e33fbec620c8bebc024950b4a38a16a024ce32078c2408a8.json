{"ast":null,"code":"import _toConsumableArray from\"D:/Soft/DIPLOM PROJECT/GitProject/bac/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/Soft/DIPLOM PROJECT/GitProject/bac/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useLocalStorage}from\"../utils/useLocalState\";import{DrinkCards}from\"../components/DrinkCards\";import{NewDrink}from\"../components/NewDrink\";import{graphDataCalculator}from\"../utils/graphDataCalculator\";import{drinkSorter}from\"../utils/drinkSorter\";import{userParameters}from\"../utils/userParameters\";// import { InfoModal } from \"../components/InfoModal\";\nimport{IconButton}from\"@mui/material\";import InfoTwoToneIcon from\"@mui/icons-material/InfoTwoTone\";import{Modal}from\"../components/Modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Drinks=function Drinks(_ref){var match=_ref.match,history=_ref.history;var _useLocalStorage=useLocalStorage(\"drinks\",[]),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),drinks=_useLocalStorage2[0],setDrinks=_useLocalStorage2[1];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),duplicateDrink=_useState2[0],setDuplicateDrink=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),addingNewDrink=_useState4[0],setAddingNewDrink=_useState4[1];// const [isModalOpen, setIsModalOpen] = useState(false);\nvar _userParameters=userParameters(match.params.id),widmarkFactor=_userParameters.widmarkFactor,absorptionRate=_userParameters.absorptionRate,eliminationRate=_userParameters.eliminationRate,weight=_userParameters.weight;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),modal=_useState6[0],setModal=_useState6[1];var calculateBAC=function calculateBAC(){var _graphDataCalculator=graphDataCalculator({widmarkFactor:widmarkFactor,absorptionRate:absorptionRate,eliminationRate:eliminationRate,weight:weight,drinks:drinks}),graphBacData=_graphDataCalculator.graphBacData,currentBac=_graphDataCalculator.currentBac,curBacIdx=_graphDataCalculator.curBacIdx;history.push({pathname:\"/user/bacinfo/\".concat(match.params.id),state:{currentBac:currentBac,graphBacData:graphBacData,curBacIdx:curBacIdx}});};var addDuplicateDrink=function addDuplicateDrink(drink){setDuplicateDrink({type:drink.type,volume:drink.volume,unit:drink.unit,abv:drink.abv});setAddingNewDrink(true);};var closeForm=function closeForm(type,volume,unit,abv,timePassed){setAddingNewDrink(false);setDuplicateDrink(null);var temp=[{type:type,volume:volume,unit:unit,abv:abv,timePassed:timePassed}].concat(_toConsumableArray(drinks));var sortedDrinks=drinkSorter(temp,true);setDrinks(sortedDrinks);};var cancelAdding=function cancelAdding(){setAddingNewDrink(false);setDuplicateDrink(null);};var deleteDrink=function deleteDrink(i){var temp=_toConsumableArray(drinks);temp.splice(i,1);setDrinks(temp);};var goHome=function goHome(){history.push(\"/\");};var handleOpenModal=function handleOpenModal(){setModal(true);};// const handleOpenModal = () => {\n//   setIsModalOpen(true);\n// };\n// const handleCloseModal = () => {\n//   setIsModalOpen(false);\n// };\nvar textik=/*#__PURE__*/_jsx(\"div\",{children:\"Aplik\\xE1cia umo\\u017E\\u0148uje pou\\u017E\\xEDvate\\u013Eovi vybra\\u0165 n\\xE1poj z poskytnut\\xE9ho zoznamu a ur\\u010Di\\u0165 jeho obsah alkoholu a objem. V hornej \\u010Dasti obrazovky m\\xF4\\u017Ee pou\\u017E\\xEDvate\\u013E vybra\\u0165 typ n\\xE1poja (napr. v\\xEDno, pivo, vodka, tequila at\\u010F.) a n\\xE1sledne sa zobraz\\xED vybran\\xFD n\\xE1poj. Po v\\xFDbere typu n\\xE1poja sa otvor\\xED rozba\\u013Eovacia ponuka so zoznamom r\\xF4znych typov n\\xE1pojov. Pou\\u017E\\xEDvate\\u013E si m\\xF4\\u017Ee vybra\\u0165 po\\u017Eadovan\\xFD typ a potom zada\\u0165 po\\u010Det vypit\\xFDch n\\xE1pojov (v mililitroch) alebo po\\u010Det \\u0161tandardn\\xFDch vypit\\xFDch n\\xE1pojov.\"});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container drinks__container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Logo drinks__logo\",onClick:goHome,children:/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:\"center\"},children:\"Alkoholov\\xFD analyz\\xE1tor\"})}),/*#__PURE__*/_jsx(\"h2\",{onClick:function onClick(){return history.push(\"/user\");},className:\"drinks__edit-user-btn\",children:\"Zmena pou\\u017E\\xEDvate\\u013Ea\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"drinks__main-btns\",style:{display:\"grid\"},children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleOpenModal,children:/*#__PURE__*/_jsx(InfoTwoToneIcon,{fontSize:\"large\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setAddingNewDrink(true);},className:\"drinks__main-btn drinks__add-btn\",children:\"Pridanie n\\xE1poja\"}),/*#__PURE__*/_jsx(\"button\",{disabled:drinks.length===0?true:false,onClick:function onClick(){calculateBAC();},className:\"drinks__main-btn drinks__submit-btn\",children:\"Pokra\\u010Dova\\u0165\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drinks__drink-card-container\",children:[/*#__PURE__*/_jsx(NewDrink,{closeForm:closeForm,duplicateDrinkData:duplicateDrink,addingNewDrink:addingNewDrink,cancelAdding:cancelAdding}),/*#__PURE__*/_jsx(DrinkCards,{drinks:drinks,deleteDrink:deleteDrink,addDuplicateDrink:addDuplicateDrink}),\" \"]})]}),modal&&/*#__PURE__*/_jsx(Modal,{title:\"Pom\\xF4cka\",content:textik,btnText:\"Close\",setModal:setModal})]});};","map":{"version":3,"names":["React","useState","useLocalStorage","DrinkCards","NewDrink","graphDataCalculator","drinkSorter","userParameters","IconButton","InfoTwoToneIcon","Modal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Drinks","_ref","match","history","_useLocalStorage","_useLocalStorage2","_slicedToArray","drinks","setDrinks","_useState","_useState2","duplicateDrink","setDuplicateDrink","_useState3","_useState4","addingNewDrink","setAddingNewDrink","_userParameters","params","id","widmarkFactor","absorptionRate","eliminationRate","weight","_useState5","_useState6","modal","setModal","calculateBAC","_graphDataCalculator","graphBacData","currentBac","curBacIdx","push","pathname","concat","state","addDuplicateDrink","drink","type","volume","unit","abv","closeForm","timePassed","temp","_toConsumableArray","sortedDrinks","cancelAdding","deleteDrink","i","splice","goHome","handleOpenModal","textik","children","className","onClick","style","textAlign","display","fontSize","disabled","length","duplicateDrinkData","title","content","btnText"],"sources":["D:/Soft/DIPLOM PROJECT/GitProject/bac/src/pages/Drinks.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { useLocalStorage } from \"../utils/useLocalState\";\nimport { drinkType, duplicateDrinkType } from \"../types\";\nimport { DrinkCards } from \"../components/DrinkCards\";\nimport { NewDrink } from \"../components/NewDrink\";\nimport { graphDataCalculator } from \"../utils/graphDataCalculator\";\nimport { drinkSorter } from \"../utils/drinkSorter\";\nimport { userParameters } from \"../utils/userParameters\";\n// import { InfoModal } from \"../components/InfoModal\";\nimport { IconButton } from \"@mui/material\";\nimport InfoTwoToneIcon from \"@mui/icons-material/InfoTwoTone\";\nimport { Modal } from \"../components/Modal\";\n\ninterface DrinksProps extends RouteComponentProps<{ id: string }> {}\n\nexport const Drinks: React.FC<DrinksProps> = ({ match, history }) => {\n  const [drinks, setDrinks] = useLocalStorage(\"drinks\", []);\n  const [duplicateDrink, setDuplicateDrink] =\n    useState<duplicateDrinkType | null>(null);\n  const [addingNewDrink, setAddingNewDrink] = useState(false);\n  // const [isModalOpen, setIsModalOpen] = useState(false);\n  const { widmarkFactor, absorptionRate, eliminationRate, weight } =\n    userParameters(match.params.id);\n  const [modal, setModal] = useState(false);\n\n  const calculateBAC = () => {\n    const { graphBacData, currentBac, curBacIdx } = graphDataCalculator({\n      widmarkFactor,\n      absorptionRate,\n      eliminationRate,\n      weight,\n      drinks,\n    });\n    history.push({\n      pathname: `/user/bacinfo/${match.params.id}`,\n      state: { currentBac, graphBacData, curBacIdx },\n    });\n  };\n\n  const addDuplicateDrink = (drink: drinkType) => {\n    setDuplicateDrink({\n      type: drink.type,\n      volume: drink.volume,\n      unit: drink.unit,\n      abv: drink.abv,\n    });\n    setAddingNewDrink(true);\n  };\n\n  const closeForm = (\n    type: string,\n    volume: string,\n    unit: string,\n    abv: string,\n    timePassed: string\n  ) => {\n    setAddingNewDrink(false);\n    setDuplicateDrink(null);\n    const temp = [{ type, volume, unit, abv, timePassed }, ...drinks];\n    const sortedDrinks = drinkSorter(temp, true);\n    setDrinks(sortedDrinks);\n  };\n\n  const cancelAdding = () => {\n    setAddingNewDrink(false);\n    setDuplicateDrink(null);\n  };\n\n  const deleteDrink = (i: number) => {\n    const temp = [...drinks];\n    temp.splice(i, 1);\n    setDrinks(temp);\n  };\n\n  const goHome = () => {\n    history.push(\"/\");\n  };\n\n  const handleOpenModal = () => {\n    setModal(true);\n  };\n\n  // const handleOpenModal = () => {\n  //   setIsModalOpen(true);\n  // };\n\n  // const handleCloseModal = () => {\n  //   setIsModalOpen(false);\n  // };\n\n  const textik = (\n    <div>\n      Aplikácia umožňuje používateľovi vybrať nápoj z poskytnutého zoznamu a\n      určiť jeho obsah alkoholu a objem. V hornej časti obrazovky môže\n      používateľ vybrať typ nápoja (napr. víno, pivo, vodka, tequila atď.) a\n      následne sa zobrazí vybraný nápoj. Po výbere typu nápoja sa otvorí\n      rozbaľovacia ponuka so zoznamom rôznych typov nápojov. Používateľ si môže\n      vybrať požadovaný typ a potom zadať počet vypitých nápojov (v mililitroch)\n      alebo počet štandardných vypitých nápojov.\n    </div>\n  );\n\n  return (\n    <>\n      <div className=\"container drinks__container\">\n        <div className=\"Logo drinks__logo\" onClick={goHome}>\n          <h1 style={{ textAlign: \"center\" }}>Alkoholový analyzátor</h1>\n        </div>\n        <h2\n          onClick={() => history.push(\"/user\")}\n          className=\"drinks__edit-user-btn\"\n        >\n          Zmena používateľa\n        </h2>\n        <div className=\"drinks__main-btns\" style={{ display: \"grid\" }}>\n          <IconButton onClick={handleOpenModal}>\n            <InfoTwoToneIcon fontSize=\"large\" />\n          </IconButton>\n\n          <div style={{ display: \"flex\" }}>\n            <button\n              onClick={() => setAddingNewDrink(true)}\n              className=\"drinks__main-btn drinks__add-btn\"\n            >\n              Pridanie nápoja\n            </button>\n            <button\n              disabled={drinks.length === 0 ? true : false}\n              onClick={() => {\n                calculateBAC();\n              }}\n              className=\"drinks__main-btn drinks__submit-btn\"\n            >\n              Pokračovať\n            </button>\n          </div>\n        </div>\n\n        <div className=\"drinks__drink-card-container\">\n          <NewDrink\n            closeForm={closeForm}\n            duplicateDrinkData={duplicateDrink}\n            addingNewDrink={addingNewDrink}\n            cancelAdding={cancelAdding}\n          />\n          <DrinkCards\n            drinks={drinks}\n            deleteDrink={deleteDrink}\n            addDuplicateDrink={addDuplicateDrink}\n          />{\" \"}\n        </div>\n      </div>\n      {modal && (\n        <Modal\n          title=\"Pomôcka\"\n          content={textik}\n          btnText=\"Close\"\n          setModal={setModal}\n        />\n      )}\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}