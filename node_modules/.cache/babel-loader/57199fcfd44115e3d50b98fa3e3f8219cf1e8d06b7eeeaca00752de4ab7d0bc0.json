{"ast":null,"code":"import _toConsumableArray from\"D:/Soft/DIPLOM PROJECT/GitProject/bac/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/Soft/DIPLOM PROJECT/GitProject/bac/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useLocalStorage}from\"../utils/useLocalState\";import{DrinkCards}from\"../components/DrinkCards\";import{NewDrink}from\"../components/NewDrink\";import{graphDataCalculator}from\"../utils/graphDataCalculator\";import{drinkSorter}from\"../utils/drinkSorter\";import{userParameters}from\"../utils/userParameters\";// import { InfoModal } from \"../components/InfoModal\";\nimport{IconButton}from\"@mui/material\";import InfoTwoToneIcon from\"@mui/icons-material/InfoTwoTone\";import{Modal}from\"../components/Modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Drinks=function Drinks(_ref){var match=_ref.match,history=_ref.history;var _useLocalStorage=useLocalStorage(\"drinks\",[]),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),drinks=_useLocalStorage2[0],setDrinks=_useLocalStorage2[1];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),duplicateDrink=_useState2[0],setDuplicateDrink=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),addingNewDrink=_useState4[0],setAddingNewDrink=_useState4[1];// const [isModalOpen, setIsModalOpen] = useState(false);\nvar _userParameters=userParameters(match.params.id),widmarkFactor=_userParameters.widmarkFactor,absorptionRate=_userParameters.absorptionRate,eliminationRate=_userParameters.eliminationRate,weight=_userParameters.weight;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),modal=_useState6[0],setModal=_useState6[1];var calculateBAC=function calculateBAC(){var _graphDataCalculator=graphDataCalculator({widmarkFactor:widmarkFactor,absorptionRate:absorptionRate,eliminationRate:eliminationRate,weight:weight,drinks:drinks}),graphBacData=_graphDataCalculator.graphBacData,currentBac=_graphDataCalculator.currentBac,curBacIdx=_graphDataCalculator.curBacIdx;history.push({pathname:\"/user/bacinfo/\".concat(match.params.id),state:{currentBac:currentBac,graphBacData:graphBacData,curBacIdx:curBacIdx}});};var addDuplicateDrink=function addDuplicateDrink(drink){setDuplicateDrink({type:drink.type,volume:drink.volume,unit:drink.unit,abv:drink.abv});setAddingNewDrink(true);};var closeForm=function closeForm(type,volume,unit,abv,timePassed){setAddingNewDrink(false);setDuplicateDrink(null);var temp=[{type:type,volume:volume,unit:unit,abv:abv,timePassed:timePassed}].concat(_toConsumableArray(drinks));var sortedDrinks=drinkSorter(temp,true);setDrinks(sortedDrinks);};var cancelAdding=function cancelAdding(){setAddingNewDrink(false);setDuplicateDrink(null);};var deleteDrink=function deleteDrink(i){var temp=_toConsumableArray(drinks);temp.splice(i,1);setDrinks(temp);};var goHome=function goHome(){history.push(\"/\");};var handleOpenModal=function handleOpenModal(){setModal(true);};// const handleOpenModal = () => {\n//   setIsModalOpen(true);\n// };\n// const handleCloseModal = () => {\n//   setIsModalOpen(false);\n// };\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container drinks__container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Logo drinks__logo\",onClick:goHome,children:/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:\"center\"},children:\"Alkoholov\\xFD analyz\\xE1tor\"})}),/*#__PURE__*/_jsx(\"h2\",{onClick:function onClick(){return history.push(\"/user\");},className:\"drinks__edit-user-btn\",children:\"Zmena pou\\u017E\\xEDvate\\u013Ea\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"drinks__main-btns\",style:{display:\"grid\"},children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleOpenModal,children:/*#__PURE__*/_jsx(InfoTwoToneIcon,{fontSize:\"large\"})}),modal&&/*#__PURE__*/_jsx(Modal,{title:\"Pom\\xF4cka\",content:\"Je to hypot\\xE9za, inform\\xE1cia ktor\\xE1 by sa nemala pou\\u017E\\xEDva\\u0165 na rozhodn\\xFAtie kedy sadn\\xFA\\u0165 za volant!\",btnText:\"Close\",setModal:setModal}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setAddingNewDrink(true);},className:\"drinks__main-btn drinks__add-btn\",children:\"Pridanie n\\xE1poja\"}),/*#__PURE__*/_jsx(\"button\",{disabled:drinks.length===0?true:false,onClick:function onClick(){calculateBAC();},className:\"drinks__main-btn drinks__submit-btn\",children:\"Pokra\\u010Dova\\u0165\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drinks__drink-card-container\",children:[/*#__PURE__*/_jsx(NewDrink,{closeForm:closeForm,duplicateDrinkData:duplicateDrink,addingNewDrink:addingNewDrink,cancelAdding:cancelAdding}),/*#__PURE__*/_jsx(DrinkCards,{drinks:drinks,deleteDrink:deleteDrink,addDuplicateDrink:addDuplicateDrink}),\" \"]})]});};","map":{"version":3,"names":["React","useState","useLocalStorage","DrinkCards","NewDrink","graphDataCalculator","drinkSorter","userParameters","IconButton","InfoTwoToneIcon","Modal","jsx","_jsx","jsxs","_jsxs","Drinks","_ref","match","history","_useLocalStorage","_useLocalStorage2","_slicedToArray","drinks","setDrinks","_useState","_useState2","duplicateDrink","setDuplicateDrink","_useState3","_useState4","addingNewDrink","setAddingNewDrink","_userParameters","params","id","widmarkFactor","absorptionRate","eliminationRate","weight","_useState5","_useState6","modal","setModal","calculateBAC","_graphDataCalculator","graphBacData","currentBac","curBacIdx","push","pathname","concat","state","addDuplicateDrink","drink","type","volume","unit","abv","closeForm","timePassed","temp","_toConsumableArray","sortedDrinks","cancelAdding","deleteDrink","i","splice","goHome","handleOpenModal","className","children","onClick","style","textAlign","display","fontSize","title","content","btnText","disabled","length","duplicateDrinkData"],"sources":["D:/Soft/DIPLOM PROJECT/GitProject/bac/src/pages/Drinks.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { useLocalStorage } from \"../utils/useLocalState\";\nimport { drinkType, duplicateDrinkType } from \"../types\";\nimport { DrinkCards } from \"../components/DrinkCards\";\nimport { NewDrink } from \"../components/NewDrink\";\nimport { graphDataCalculator } from \"../utils/graphDataCalculator\";\nimport { drinkSorter } from \"../utils/drinkSorter\";\nimport { userParameters } from \"../utils/userParameters\";\n// import { InfoModal } from \"../components/InfoModal\";\nimport { IconButton } from \"@mui/material\";\nimport InfoTwoToneIcon from \"@mui/icons-material/InfoTwoTone\";\nimport { Modal } from \"../components/Modal\";\n\ninterface DrinksProps extends RouteComponentProps<{ id: string }> {}\n\nexport const Drinks: React.FC<DrinksProps> = ({ match, history }) => {\n  const [drinks, setDrinks] = useLocalStorage(\"drinks\", []);\n  const [duplicateDrink, setDuplicateDrink] =\n    useState<duplicateDrinkType | null>(null);\n  const [addingNewDrink, setAddingNewDrink] = useState(false);\n  // const [isModalOpen, setIsModalOpen] = useState(false);\n  const { widmarkFactor, absorptionRate, eliminationRate, weight } =\n    userParameters(match.params.id);\n  const [modal, setModal] = useState(false);\n\n  const calculateBAC = () => {\n    const { graphBacData, currentBac, curBacIdx } = graphDataCalculator({\n      widmarkFactor,\n      absorptionRate,\n      eliminationRate,\n      weight,\n      drinks,\n    });\n    history.push({\n      pathname: `/user/bacinfo/${match.params.id}`,\n      state: { currentBac, graphBacData, curBacIdx },\n    });\n  };\n\n  const addDuplicateDrink = (drink: drinkType) => {\n    setDuplicateDrink({\n      type: drink.type,\n      volume: drink.volume,\n      unit: drink.unit,\n      abv: drink.abv,\n    });\n    setAddingNewDrink(true);\n  };\n\n  const closeForm = (\n    type: string,\n    volume: string,\n    unit: string,\n    abv: string,\n    timePassed: string\n  ) => {\n    setAddingNewDrink(false);\n    setDuplicateDrink(null);\n    const temp = [{ type, volume, unit, abv, timePassed }, ...drinks];\n    const sortedDrinks = drinkSorter(temp, true);\n    setDrinks(sortedDrinks);\n  };\n\n  const cancelAdding = () => {\n    setAddingNewDrink(false);\n    setDuplicateDrink(null);\n  };\n\n  const deleteDrink = (i: number) => {\n    const temp = [...drinks];\n    temp.splice(i, 1);\n    setDrinks(temp);\n  };\n\n  const goHome = () => {\n    history.push(\"/\");\n  };\n\n  const handleOpenModal = () => {\n    setModal(true);\n  };\n\n  // const handleOpenModal = () => {\n  //   setIsModalOpen(true);\n  // };\n\n  // const handleCloseModal = () => {\n  //   setIsModalOpen(false);\n  // };\n\n  return (\n    <div className=\"container drinks__container\">\n      <div className=\"Logo drinks__logo\" onClick={goHome}>\n        <h1 style={{ textAlign: \"center\" }}>Alkoholový analyzátor</h1>\n      </div>\n      <h2\n        onClick={() => history.push(\"/user\")}\n        className=\"drinks__edit-user-btn\"\n      >\n        Zmena používateľa\n      </h2>\n      <div className=\"drinks__main-btns\" style={{ display: \"grid\" }}>\n        <IconButton onClick={handleOpenModal}>\n          <InfoTwoToneIcon fontSize=\"large\" />\n        </IconButton>\n        {modal && (\n          <Modal\n            title=\"Pomôcka\"\n            content=\"Je to hypotéza, informácia ktorá by sa nemala používať na\n                rozhodnútie kedy sadnúť za volant!\"\n            btnText=\"Close\"\n            setModal={setModal}\n          />\n        )}\n        <div style={{ display: \"flex\" }}>\n          <button\n            onClick={() => setAddingNewDrink(true)}\n            className=\"drinks__main-btn drinks__add-btn\"\n          >\n            Pridanie nápoja\n          </button>\n          <button\n            disabled={drinks.length === 0 ? true : false}\n            onClick={() => {\n              calculateBAC();\n            }}\n            className=\"drinks__main-btn drinks__submit-btn\"\n          >\n            Pokračovať\n          </button>\n        </div>\n      </div>\n\n      <div className=\"drinks__drink-card-container\">\n        <NewDrink\n          closeForm={closeForm}\n          duplicateDrinkData={duplicateDrink}\n          addingNewDrink={addingNewDrink}\n          cancelAdding={cancelAdding}\n        />\n        <DrinkCards\n          drinks={drinks}\n          deleteDrink={deleteDrink}\n          addDuplicateDrink={addDuplicateDrink}\n        />{\" \"}\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}